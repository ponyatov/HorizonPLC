class ClassPulseCounter extends ClassSensor{constructor(opts){ClassSensor.call(this,opts),this._SetWatch,this._Interval=Array(2)}Start(_chNum,_opts){_opts={repeat:!0},this._Channels[0].Value=0,this._SetWatch=setWatch(()=>{this._Channels[0].Value=this._Channels[_chNum].Value+1},this._Pins[0],_opts);let count_one_sec_ago=0,count_one_min_ago=0;return this._Interval[0]=setInterval(()=>{this._Channels[0].Status&&(this._Channels[1].Value=this._Channels[0].Value-count_one_sec_ago,count_one_sec_ago=this._Channels[0].Value)},1e3),this._Interval[1]=setInterval(()=>{this._Channels[0].Status&&(this._Channels[2].Value=this._Channels[0].Value-count_one_min_ago,count_one_min_ago=this._Channels[0].Value)},6e4),this._Channels[0].Status=1,this._Channels[1].Status=1,this._Channels[2].Status=1,this}Stop(_chNum){return!!this._SetWatch&&(clearWatch(this._SetWatch),this._SetWatch=null,clearInterval(this._Interval[0]),clearInterval(this._Interval[1]),this._Interval[0]=null,this._Interval[1]=null,this._Channels[0].Status=0,this._Channels[1].Status=0,this._Channels[2].Status=0,this)}}exports=ClassPulseCounter;